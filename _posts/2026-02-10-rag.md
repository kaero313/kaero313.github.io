---
title: "[RAG] 최신 AI 서비스들이 '답변 출처'를 표시할 수 있는 이유"
date: 2026-02-10 16:32:27 +0900
categories: [AI, RAG]
tags: [AI, RAG, LLM]
preview_image: assets/img/rag/prev_icon.png
---

RPA를 주로 하는 레거시, 폐쇄 환경 위주의 기업에서도 AI의 바람은 피할 수 없는지, 요즘 회사에서 RAG를 이용하여 학습을 하고 주기적으로 내부 POC를 진행하자는 얘기가 나왔다.<br/>
진행하면서 겪은 내용 및 문제점 등 모든 경험을 정리해 볼 예정이다.
<br/>
<br/>

<div align="center">
  <img src="assets/img/rag/rag-logo.png" alt="RAG 아이콘" width="500">
</div>
> 이것마저 AI(나노 바나나)로 생성한 이미지이다..

<br/>

# RAG란?
---

RAG(Retrieval-Augmented Generation, 검색 증강 생성)를 한 문장으로 요약하면 'AI가 모르는 내용을 외부 데이터베이스에서 직접 찾아보고 답변하게 만드는 기술'이라고 AI가 답변을 해줬다.

## LLM의 한계

AGI의 영역에 도달하여 LLM의 로직을 새로 구성하지 않는 이상 LLM의 한계는 명확하다.<br/>
- 새롭게 학습이 되기 전까지는 최신 데이터가 없다.
- 회사 내부 데이터같은 대중적이지 않은 데이터는 없다.
- 비싸다.

등등... 이러한 문제점을 해결하기 위하여 RAG라는 신개념의 기술이 나왔다고 한다.

## RAG 아키텍쳐

<div align="center">
  <img src="assets/img/rag/work_flow.png" alt="RAG 워크 플로우" width="800">
</div>

결론적으로 최종 목표는 LLM에 보다 더 잘 질문하려고 사용하는 것이다. <br/>
DB에 필요한 데이터를 넣어두고, 사용자의 질문에 따라 필요한 데이터를 꺼내서 기존의 프롬포트와 합쳐 LLM에 질문하면 끝이다.<br/>

<br/>

# RAG 구현
---

처음엔 회사에서 진행을 했었고, 그 후에 따로 개인적으로도 구현을 했었다.

- 회사에서 하던 방식
  - LangFlow 기반으로 만들어진 솔루션을 이용하여 기존 시스템과의 연동 기반
- 개인적으로 하던 방식
  - FastAPI를 이용하여 백앤드 위주의 채팅용 UI 구성

## 첫 번째 구현

회사에서 쓰는 Brity Automation이라는 RPA 기반의 플랫폼에 AI 관련 기능이 추가되었다. 알아보니 LangFlow 기반으로 만들어졌다고 한다. 처음 RAG를 구현하려다 보니 아이디어 구상이 꽤나 어려웠다. 이런 저런 시도를 거치다가 선정한 주제는 '특정 회사에 대한 주가 전망을 분석하고 알려주는 AI' 였다. 대략적인 플로우는 아래와 같다.

### 예상 시나리오

```tree
1. RPA로 매일 아침 기업의 금융 분석 리포트/기업 관련 뉴스를 다운로드 한다.
   ↓
2. LLM을 이용하여 리포트/뉴스를 요약한다.
   ↓
3. 청킹, 임베딩 과정을 통하여 백터 DB에 저장한다.
   ↓
4. 사용자의 질문 + 시스템 프롬포트 + RAG 데이터를 합쳐 AI에게 최종 질문을 하고 답변을 받는다.
```
<br/>

### 결과+문제점 최종 정리

<div align="center">
  <img src="assets/img/rag/case1_qna.png" alt="case1 결과" width="900">
</div>

<div align="center">
  <img src="assets/img/rag/case1_qna2.png" alt="case1 결과2" width="900">
</div>
> PlayGround로 테스트 한 결과이다.



